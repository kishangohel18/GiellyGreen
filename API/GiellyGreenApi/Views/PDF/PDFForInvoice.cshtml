@model GiellyGreenApi.Models.CombineSupplierInvoice
@{
    Layout = "";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    <link href='https://fonts.googleapis.com/css?family=Mulish' rel='stylesheet'>
    <style>
        body {
            font-family: 'Mulish';
            font-size: 20px;
        }
    </style>
</head>
<body>
    @{
        string strDate = "";
        if (Model.Month_Header.InvoiceDate != null)
        {
            var ArrayDate = Model.Month_Header.InvoiceDate.ToString().Split('-');
            string getDay = ArrayDate[0];
            strDate = String.Format("{0}/{1}/{2}", getDay, Model.Month_Header.InvoiceMonth.ToString(), Model.Month_Header.InvoiceYear.ToString());
        }


        string path = HttpContext.Current.Server.MapPath("~/ImageStorage");

        if (!Directory.Exists(path))
        {
            Directory.CreateDirectory(path);
        }       
    }
    <div class="container">
        <table class="table" style="border:0px;">
            <tr style="border-top:0px; border-bottom:0px;">
                <td width="40%">
                    @if (@Model.Supplier.LogoUrl != null)
                    {
                        string imgPath = Path.Combine(path, Model.Supplier.LogoUrl);
                        byte[] imageByte = File.ReadAllBytes(imgPath);
                        Model.Supplier.LogoUrl = Convert.ToBase64String(imageByte);
                       
                        <div><img src='data:image/jpg;base64,@Model.Supplier.LogoUrl' style="width:200px; height: 100px;" /></div>
                    }
                </td>
                <td width="60%"><div class="text-right h1">Self Billed Invoice</div></td>
            </tr>
            <tr style="border-top:0px; border-bottom:0px;">
                <td>@Html.DisplayFor(model => model.Supplier.BusinessAddress)</td>
                <td>
                    <div>
                        <div class="text-right h3">
                            Invoice Date :  @Html.DisplayFor(model => strDate)
                        </div>
                        <div class="text-right h3">
                            Invoice Ref :  @Html.DisplayFor(model => model.Month_Header.InvoiceReferance)
                        </div>
                        <br />
                        @if (Model.Supplier.TaxReference != null)
                        {
                            <div class="text-right h3">Tax Ref :  @Html.DisplayFor(model => model.Supplier.TaxReference)</div>
                        }
                        @if (Model.Supplier.VatNumber != null)
                        {
                            <div class="text-right h3">VAT Number :  @Html.DisplayFor(model => model.Supplier.VatNumber)</div>
                        }
                    </div>
                </td>
            </tr>
            <tr style="border-top:0px; border-bottom:0px;">
                <td><div class="h4 text-left">To :  @Html.DisplayFor(model => model.Supplier.CompanyRegAddress)</div></td>
                <td></td>
            </tr>
        </table>
        <br />
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th width="60%" style="border-right: 0px; text-align: center;">Description</th>
                    <th width="20%" style="border-left:0px;border-right:0px"></th>
                    <th width="20%" style="border-left: 0px; text-align: right;">Amount(GBP)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Hair Services</td>
                    <td></td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.HairService)</td>
                </tr>
                <tr>
                    <td>Beauty Services</td>
                    <td></td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.BeautyService)</td>
                </tr>

                @if (Model.Invoice.Custom1 != null && Model.Invoice.Custom1 != 0)
                {
                    <tr>
                        <td>@Html.DisplayFor(model => model.Month_Header.Custom1)</td>
                        <td></td>
                        <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Custom1)</td>
                    </tr>
                }
                @if (Model.Invoice.Custom2 != null && Model.Invoice.Custom2 != 0)
                {
                    <tr>
                        <td>@Html.DisplayFor(model => model.Month_Header.Custom2)</td>
                        <td></td>
                        <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Custom2)</td>
                    </tr>
                }
                @if (Model.Invoice.Custom3 != null && Model.Invoice.Custom3 != 0)
                {
                    <tr>
                        <td>@Html.DisplayFor(model => model.Month_Header.Custom3)</td>
                        <td></td>
                        <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Custom3)</td>
                    </tr>
                }
                @if (Model.Invoice.Custom4 != null && Model.Invoice.Custom4 != 0)
                {
                    <tr>
                        <td>@Html.DisplayFor(model => model.Month_Header.Custom4)</td>
                        <td></td>
                        <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Custom4)</td>
                    </tr>
                }
                @if (Model.Invoice.Custom5 != null && Model.Invoice.Custom5 != 0)
                {
                    <tr>
                        <td>@Html.DisplayFor(model => model.Month_Header.Custom5)</td>
                        <td></td>
                        <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Custom5)</td>
                    </tr>
                }
                <tr class="text-right">
                    <td style="border-left:0px; border-bottom:0px; border-right:0px;"></td>
                    <td style="border-left: 0px; border-bottom: 0px; border-top: 0px;">Subtotal (Net)</td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Net)</td>
                </tr>
                <tr class="text-right">
                    <td style="border-left: 0px; border-bottom: 0px; border-right: 0px; border-top: 0px;"></td>
                    <td style="border-left: 0px; border-bottom: 0px; border-top: 0px;">Vat</td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Vat)</td>
                </tr>
                <tr class="text-right">
                    <td style="border-left: 0px; border-bottom: 0px; border-right: 0px; border-top: 0px; "></td>
                    <td style="border-left: 0px; border-bottom: 0px; border-top: 0px;">Advance paid</td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.AdvancePaid)</td>
                </tr>
                <tr class="text-right">
                    <td style="border-left: 0px; border-bottom: 0px; border-right: 0px; border-top: 0px; "></td>
                    <td style="border-left: 0px; border-bottom: 0px; border-top: 0px;">Balance due</td>
                    <td style="text-align:right;">@Html.DisplayFor(model => model.Invoice.Balance)</td>
                </tr>
            </tbody>
        </table>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
</body>
</html>
